{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/services/general.service\";\nimport * as i2 from \"../shared/services/messenger.service\";\nimport * as i3 from \"../shared/services/cart.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../shared/components/dialog/dialog.component\";\nimport * as i6 from \"./cart-item/cart-item.component\";\n\nfunction CartComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"Shopping Cart\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CartComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1, \"Your cart is empty\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CartComponent_app_dialog_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-dialog\");\n  }\n}\n\nfunction CartComponent_div_4_app_cart_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-cart-item\", 22);\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"cartItems\", item_r5);\n  }\n}\n\nfunction CartComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵtemplate(2, CartComponent_div_4_app_cart_item_2_Template, 1, 1, \"app-cart-item\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 9)(4, \"div\", 10);\n    i0.ɵɵelement(5, \"div\", 11);\n    i0.ɵɵelementStart(6, \"div\", 12)(7, \"div\", 13);\n    i0.ɵɵtext(8, \"Total:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 14);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 15)(12, \"div\", 16);\n    i0.ɵɵelement(13, \"input\", 17);\n    i0.ɵɵelementStart(14, \"label\", 18);\n    i0.ɵɵtext(15, \"Coupon\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"a\", 19)(17, \"div\", 20);\n    i0.ɵɵtext(18, \"Apply discount code\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_4_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.generalService.showDialog = true);\n    });\n    i0.ɵɵtext(20, \"Continue to checkout\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.cartItems);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"$\", ctx_r3.cartTotal, \"\");\n  }\n}\n\nexport let CartComponent = /*#__PURE__*/(() => {\n  class CartComponent {\n    constructor(generalService, msg, cartService) {\n      this.generalService = generalService;\n      this.msg = msg;\n      this.cartService = cartService;\n      this.cartItems = []; //cartItems = [{ id: 1, name: 'bag', size: 'one size', price: 20, qty: 1, imageURL: 'https://thumb.tildacdn.com/tild6532-6235-4637-a338-366166653662/-/cover/360x400/center/center/-/format/webp/photo.png'}]\n\n      this.product = [];\n      this.cartTotal = 0;\n    }\n\n    ngOnInit() {\n      this.handleSubscription();\n      this.loadCartItems();\n    }\n\n    handleSubscription() {\n      this.msg.getMsg().subscribe(data => {\n        this.loadCartItems();\n      });\n    }\n\n    loadCartItems() {\n      this.cartService.getCartItems().subscribe(items => {\n        this.cartItems = items;\n        this.calcCartTotal();\n      });\n    }\n\n    calcCartTotal() {\n      this.cartTotal = 0;\n      this.cartItems.forEach(item => {\n        this.cartTotal += item.qty * item.price;\n      });\n    }\n\n    addProductToCart(data) {\n      this.cartItems.push({\n        id: data.id,\n        productId: data.id,\n        productName: data.name,\n        size: data.size,\n        price: data.price,\n        qty: 1,\n        imageURL: data.imageURL\n      });\n      this.cartItems.forEach(item => {\n        this.cartTotal += item.qty * item.price;\n      });\n    }\n\n  }\n\n  CartComponent.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.GeneralService), i0.ɵɵdirectiveInject(i2.MessengerService), i0.ɵɵdirectiveInject(i3.CartService));\n  };\n\n  CartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    decls: 5,\n    vars: 4,\n    consts: [[\"class\", \"page__name\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"content\", 4, \"ngIf\"], [1, \"page__name\"], [1, \"alert\", \"alert-info\"], [1, \"content\"], [1, \"stuff__list\"], [3, \"cartItems\", 4, \"ngFor\", \"ngForOf\"], [1, \"order-menu\"], [1, \"total-price__header\"], [1, \"black-line\"], [1, \"total-price\"], [1, \"total\"], [1, \"price\"], [1, \"footer-order__menu\"], [1, \"text-field\", \"text-field__floating\"], [\"type\", \"text\", \"id\", \"coupon\", \"placeholder\", \" \", 1, \"text-field__input\"], [\"for\", \"coupon\", 1, \"text-field__label\"], [\"href\", \"#\", 1, \"discount__clicktext\"], [1, \"discount__clicktext\"], [1, \"continue__button\", 3, \"click\"], [3, \"cartItems\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵtemplate(1, CartComponent_div_1_Template, 2, 0, \"div\", 0);\n        i0.ɵɵtemplate(2, CartComponent_div_2_Template, 2, 0, \"div\", 1);\n        i0.ɵɵtemplate(3, CartComponent_app_dialog_3_Template, 1, 0, \"app-dialog\", 2);\n        i0.ɵɵtemplate(4, CartComponent_div_4_Template, 21, 2, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.generalService.showDialog);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartItems.length > 0);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.DialogComponent, i6.CartItemComponent],\n    styles: [\"a[_ngcontent-%COMP%]{text-decoration:underline;color:#000}a[_ngcontent-%COMP%]:hover{text-decoration:none}.alert-info__container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px}.alert[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:24px;margin-top:10%;margin-bottom:22%}.order-menu__empty[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;flex-direction:column;max-height:600px;width:370px;margin-left:1%;margin-right:10%;box-shadow:0 4px 4px #00000040}.page__name[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:30px;margin-top:2%}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:3% 7%}.stuff__list[_ngcontent-%COMP%]{max-width:73%;display:flex;justify-content:center;flex-wrap:wrap;flex-direction:row}.order-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;flex-direction:column;max-height:600px;width:370px;margin-left:1%;box-shadow:0 4px 4px #00000040}.total-price__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:30px 20px}.total-price[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;padding-top:10px;padding-bottom:70%}.total[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{font-weight:200}.black-line[_ngcontent-%COMP%]{margin-top:50px;background-color:#000;width:300px;height:1px}.footer-order__menu[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.continue__button[_ngcontent-%COMP%]{width:280px;height:55px;border:none;margin:5px 30px 30px;background-color:#000;color:#fff;font-family:Roboto;font-weight:300;font-size:18px;transition:.1s}.continue__button[_ngcontent-%COMP%]:hover{color:#c4c4c4;cursor:pointer;transition:.1s}.text-field__floating[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column-reverse;justify-content:center;margin-bottom:10px}.text-field__input[_ngcontent-%COMP%]{border:none;padding:.6rem;margin-top:.6rem;font-size:.8rem;border-bottom:.1rem solid rgba(0,0,0,1);outline:none}.text-field__label[_ngcontent-%COMP%]{color:#959595;transform:translateY(2.4rem);transform-origin:left top;font-weight:200;font-size:14px;margin-left:8px;cursor:text;transition:all .2s}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:not(:placeholder-shown){border-bottom:.1rem solid black}input[_ngcontent-%COMP%]:focus-visible ~ label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{cursor:default;padding:0;color:#000;transform:translateY(1.2rem) translate(-.5rem) scale(.8)}.discount__clicktext[_ngcontent-%COMP%]{font-size:14px;font-weight:200}\"]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}